<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <title>{{ site.title | default: site.github.repository_name }}: {{ page.title | default: page.path }}</title>
        {% assign cssclass = 'default' %}
        {% include head.html %}
        <link rel="stylesheet" type="text/css" href="/bits/css/issues.css" />
        <script type="text/javascript" src="/bits/js/showdown.min.js"></script>
        <script type="text/javascript">
            var pagedata = {
                site: '{{ site.url }}',
                title: '{{ page.title | default: page.path }}',
                path: '{{ page.path }}',
                permalink: '{{ page.permalink }}',
                issues: {
                    repository: '{{ page.issues.repository | default: "base" }}',
                    noun: '{{ page.issues.noun | default: "Issue" }}',
                    perpage: '{{ page.issues.perpage | default: 50 }}',
                    sort: {
                        by: '{{ page.issues.sort.by | default: "updated" }}',
                        direction: '{{ page.issues.sort.direction | default: "desc" }}',
                        link: '{{ page.issues.sort.link | default: "updated-desc" }}',
                        state: '{{ page.issues.sort.state | default: "open" }}'
                    }
                },
                script: 'https://api.github.com/repos/red-eclipse/{{ page.issues.repository | default: "base" }}/issues?state={{ page.issues.sort.state }}&sort={{ page.issues.sort.by }}&direction={{ page.issues.sort.direction }}&callback=issues',
            }
        </script>
        <script type="text/javascript" src="/bits/js/oauth.min.js"></script>
        <script type="text/javascript" src="/bits/js/issues.js"></script>
    </head>
    <body>
        {% include nav.html %}
        <div class="container pagecontent">
            <div id="issues-container" class="main pagecontainer">
                <h1>{{ page.title | default: page.path }}</h1>
                {{ content }}
                <table id="issues-front">
                    <thead id="issues-link">
                        <tr id="issues-l-row">
                            <th id="issues-l-data" class="issues-left">
                                <a id="issues-index" href="#">Index</a>
                                | <a id="issues-reload" onclick="location.reload();">Refresh</a>
                                | <a id="issues-create" href="https://github.com/red-eclipse/{{ page.issues.repository }}/issues/new" target="_blank">Create New {{ page.issues.noun }}</a>
                            </th>
                            <th id="issues-l-login" class="issues-right">
                                <a id="issues-login" href="#" onclick="user_oauth();">Login with GitHub</a>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="issues-information"></tbody>
                </table>
                <table id="issues-table">
                    <thead id="issues-header">
                        <tr id="issues-h-load">
                            <th id="issues-h-loading" class="issues-left"><span class="fas fa-cog fa-spin"></span> Loading...</th>
                        </tr>
                    </thead>
                    <tbody id="issues-body"></tbody>
                </table>
                <table id="issues-more">
                    <thead id="issues-morehead">
                        <tr id="issues-h-more" style="display: none">
                            <th id="issues-h-loading" class="issues-center"><a id="issues-getmore" onclick="issues_more();">Load More</a></th>
                        </tr>
                    </thead>
                    <tbody id="issues-morebody"></tbody>
                </table>
            </div>
            {% include footer.html %}
        </div>
    </body>
</html>
